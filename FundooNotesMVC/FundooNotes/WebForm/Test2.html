<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
</head>
<body>

    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#profilepicModal">
        Launch demo modal
    </button>

    <!-- Modal -->
    <div class="modal fade" id="profilepicModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Upload a Profile Picture</h5>
                </div>
                <div class="modal-body">
                    <form id="profilepicdata" method="put">
                        <input type="hidden" id="ppemail" name="Email" value="" />
                        <label for="File">Choose a Picture :</label>
                        <input name="File" type="file" />
                        <button class="btn btn-primary">Upload</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script>
        $("form#profilepicdata").submit(function (e) {
            e.preventDefault();
            var formData = new FormData(this);

            $.ajax({
                url: "https://localhost:44337/Notes/ProfilePicture",
                type: 'PUT',
                data: formData,
                success: function (data) {
                    window.location.reload();
                },
                cache: false,
                contentType: false,
                processData: false
            });
        });

    </script>
</body>
</html>